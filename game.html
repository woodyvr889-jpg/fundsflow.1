<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Stranger Things Bid Game â€” Maze Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
@font-face {
  font-family: 'ITC Benguiat';
  src: url('fonts/ITCBenguiat.woff2') format('woff2'),
       url('fonts/ITCBenguiat.woff') format('woff');
}

body {
  margin:0;
  padding:0;
  background:#0b0b20;
  font-family:'ITC Benguiat', serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  color:#e50914;
}

#score-board {
  position:absolute;
  top:10px;
  font-size:1.3rem;
  text-shadow:0 0 5px red;
}

#game-container {
  display:grid;
  grid-template-columns:repeat(20,30px);
  grid-template-rows:repeat(20,30px);
  gap:1px;
  width:600px;
  height:600px;
  background:#05050f;
  border:3px solid #e50914;
}

.cell {
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:1.2rem;
}

.wall {
  background:linear-gradient(135deg,#0b0010,#220022);
  box-shadow:0 0 10px #440044 inset;
}

.collectible {
  animation:glow 1s infinite alternate;
}

@keyframes glow {
  from { text-shadow:0 0 5px white; }
  to { text-shadow:0 0 15px red; }
}

.player {
  font-size:1.4rem;
  text-shadow:0 0 10px cyan;
}

.bomb {
  animation:pulse 0.8s infinite alternate;
}

@keyframes pulse {
  from { transform:scale(1); }
  to { transform:scale(1.3); }
}
</style>
</head>

<body>

<div id="score-board">Score: 0</div>
<div id="game-container"></div>

<script>
// ==============================
// BASIC SETUP
// ==============================
const container = document.getElementById("game-container");
const rows = 20;
const cols = 20;
let score = 0;
let playerPos = { x:1, y:1 };

// ==============================
// MAZE (0 = path, 1 = wall)
// ==============================
const maze = [
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],
[1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,0,1],
[1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,1],
[1,0,1,1,1,1,0,0,1,1,1,1,0,0,1,0,1,1,0,1],
[1,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,1],
[1,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,0,1],
[1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1],
[1,0,1,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1],
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
[1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0,1],
[1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,1,0,1],
[1,0,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1,0,1],
[1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1],
[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,1],
[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],
[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
[1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,0,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

// ==============================
// GRID GENERATION
// ==============================
const grid = [];
for(let y=0;y<rows;y++){
  const row=[];
  for(let x=0;x<cols;x++){
    const cell=document.createElement("div");
    cell.classList.add("cell");
    if(maze[y][x]===1) cell.classList.add("wall");
    container.appendChild(cell);
    row.push(cell);
  }
  grid.push(row);
}

// ==============================
// SPAWNING
// ==============================
const collectibles=["ðŸª™","â¬†ï¸","ðŸ•“"];
const bombs=[];

function randomEmptyCell(){
  let x,y;
  do{
    x=Math.floor(Math.random()*cols);
    y=Math.floor(Math.random()*rows);
  }while(maze[y][x]===1 || grid[y][x].textContent);
  return {x,y};
}

function spawnCollectible(){
  const p=randomEmptyCell();
  const c=grid[p.y][p.x];
  c.textContent=collectibles[Math.floor(Math.random()*collectibles.length)];
  c.classList.add("collectible");
}

function spawnBomb(){
  const p=randomEmptyCell();
  const c=grid[p.y][p.x];
  c.textContent="ðŸ’£";
  c.classList.add("bomb");
  bombs.push({x:p.x,y:p.y,timer:3});
}

for(let i=0;i<20;i++) spawnCollectible();
setInterval(spawnCollectible,6000);
setInterval(spawnBomb,9000);

// ==============================
// PLAYER
// ==============================
function renderPlayer(){
  grid.flat().forEach(cell=>{
    if(!cell.classList.contains("wall") &&
       !cell.classList.contains("collectible") &&
       !cell.classList.contains("bomb")){
      cell.textContent="";
    }
  });
  grid[playerPos.y][playerPos.x].textContent="ðŸ˜Ž";
  grid[playerPos.y][playerPos.x].classList.add("player");
}
renderPlayer();

// ==============================
// MOVEMENT
// ==============================
document.addEventListener("keydown",e=>{
  let nx=playerPos.x;
  let ny=playerPos.y;
  if(e.key==="ArrowUp") ny--;
  if(e.key==="ArrowDown") ny++;
  if(e.key==="ArrowLeft") nx--;
  if(e.key==="ArrowRight") nx++;

  if(nx<0||ny<0||nx>=cols||ny>=rows) return;
  if(maze[ny][nx]===1) return;

  const target=grid[ny][nx];

  if(target.classList.contains("collectible")){
    score+=100;
    target.classList.remove("collectible");
  }

  if(target.classList.contains("bomb")){
    alert("ðŸ’¥ BOOM! Game Over!");
    location.reload();
  }

  playerPos={x:nx,y:ny};
  renderPlayer();
  document.getElementById("score-board").textContent="Score: "+score;
});

// ==============================
// BOMB TIMER
// ==============================
setInterval(()=>{
  for(let i=bombs.length-1;i>=0;i--){
    bombs[i].timer--;
    if(bombs[i].timer<=0){
      const b=bombs[i];
      const c=grid[b.y][b.x];
      c.textContent="ðŸ’¥";
      c.classList.remove("bomb");
      bombs.splice(i,1);
      setTimeout(()=>c.textContent="",500);
    }
  }
},1000);

// ==============================
// NAVIGATION
// ==============================
function goHub(){
  window.location.href="hub.html";
}
</script>

</body>
</html>
