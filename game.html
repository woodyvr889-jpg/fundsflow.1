<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Stranger Things Bid Game â€” Maze Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
@font-face {
  font-family: 'ITC Benguiat';
  src: url('fonts/ITCBenguiat.woff2') format('woff2'),
       url('fonts/ITCBenguiat.woff') format('woff');
  font-weight: normal;
  font-style: normal;
}

body {
  margin:0;
  padding:0;
  background:#0b0b20;
  font-family:'ITC Benguiat', serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  color:#e50914;
}

#score-board {
  position:absolute;
  top:-50px;
  font-size:1.3rem;
  text-shadow: 0 0 5px #ff0000;
}

#game-container {
  display: grid;
  grid-template-columns: repeat(20, 30px);
  grid-template-rows: repeat(20, 30px);
  gap:1px;
  position:relative;
  width: 600px;
  height: 600px;
  background:#05050f;
  border: 3px solid #e50914;
}

.cell {
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:1.2rem;
  transition: all 0.2s;
}

.wall {
  background: linear-gradient(135deg, #0b0010 0%, #220022 100%);
  box-shadow: 0 0 10px #440044 inset, 0 0 15px #880088 inset;
}

.collectible {
  animation: glow 1s infinite alternate;
}

@keyframes glow {
  0% { text-shadow:0 0 5px #fff; }
  50% { text-shadow:0 0 10px #e50914, 0 0 15px #ff0000; }
  100% { text-shadow:0 0 5px #fff; }
}

.player {
  font-size:1.4rem;
  color:#00ffff;
  text-shadow: 0 0 10px #00ffff;
}

.bomb {
  font-size:1.3rem;
  color:#ff4500;
  animation: pulse 0.8s infinite alternate;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}
</style>
</head>
<body>

<div id="score-board">Score: 0</div>
<div id="game-container"></div>

<script>
const container = document.getElementById('game-container');
const rows = 20;
const cols = 20;

let playerPos = {x:1, y:1};
let score = 0;

// ==============================
// MAZE LAYOUT
// 0 = empty, 1 = wall
// ==============================
const maze = [
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],
[1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,0,1],
[1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,1],
[1,0,1,1,1,1,0,0,1,1,1,1,0,0,1,0,1,1,0,1],
[1,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,1],
[1,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,0,1],
[1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1],
[1,0,1,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1],
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
[1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0,1],
[1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,1,0,1],
[1,0,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1,0,1],
[1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1],
[1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,1],
[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],
[1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
[1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,0,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
];

// ==============================
// GENERATE GRID
// ==============================
const grid = [];
for(let y=0; y<rows; y++){
  const row=[];
  for(let x=0; x<cols; x++){
    const cell = document.createElement('div');
    cell.classList.add('cell');
    if(maze[y][x]===1) cell.classList.add('wall');
    container.appendChild(cell);
    row.push(cell);
  }
  grid.push(row);
}

// ==============================
// SPAWN COLLECTIBLES
// ==============================
const collectibles = ['ðŸª™','â¬†ï¸','ðŸ•“'];
const bombs = [];

function spawnCollectible(){
  let pos;
  do{
    pos={x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)};
  }while(maze[pos.y][pos.x]===1 || grid[pos.y][pos.x].textContent); // avoid walls & existing items
  const cell = grid[pos.y][pos.x];
  const emoji = collectibles[Math.floor(Math.random()*collectibles.length)];
  cell.textContent = emoji;
  cell.classList.add('collectible');
}

function spawnBomb(){
  let pos;
  do{
    pos={x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)};
  }while(maze[pos.y][pos.x]===1 || grid[pos.y][pos.x].textContent);
  const cell = grid[pos.y][pos.x];
  cell.textContent='ðŸ’£';
  cell.classList.add('bomb');
  bombs.push({x: pos.x, y: pos.y, timer:3});
}

// Initial spawn
for(let i=0;i<20;i++) spawnCollectible();
setInterval(spawnCollectible, 6000);
setInterval(spawnBomb, 9000);

// ==============================
// PLAYER
// ==============================
function renderPlayer(){
  grid.flat().forEach(c=>{
    if(!c.classList.contains('bomb') && !c.classList.contains('collectible') && !c.classList.contains('wall')) c.textContent='';
  });
  grid[playerPos.y][playerPos.x].textContent='ðŸ˜Ž';
  grid[playerPos.y][playerPos.x].classList.add('player');
}
renderPlayer();

// ==============================
// MOVEMENT
// ==============================
document.addEventListener('keydown', e=>{
  let newX=playerPos.x;
  let newY=playerPos.y;
  if(e.key==='ArrowUp') newY--;
  if(e.key==='ArrowDown') newY++;
  if(e.key==='ArrowLeft') newX--;
  if(e.key==='ArrowRight') newX++;

  // Boundaries & walls
  if(newX<0||newX>=cols||newY<0||newY>=rows) return;
  if(maze[newY][newX]===1) return;

  const targetCell = grid[newY][newX];

  // Collectibles
  if(targetCell.classList.contains('collectible')){
    score+=100;
    targetCell.classList.remove('collectible');
  }

  // Bombs
  if(targetCell.classList.contains('bomb')){
    alert('ðŸ’¥ Boom! Game over!');
    score=0;
    bombs.forEach(b=>grid[b.y][b.x].textContent='');
    bombs.length=0;
    playerPos={x:1,y:1};
  }else{
    playerPos.x=newX;
    playerPos.y=newY;
  }

  renderPlayer();
  document.getElementById('score-board').textContent='Score: '+score;
});

// ==============================
// BOMB TIMER
// ==============================
setInterval(()=>{
  for(let i=bombs.length-1;i>=0;i--){
    bombs[i].timer--;
    if(bombs[i].timer<=0){
      const b = bombs[i];
      const cell = grid[b.y][b.x];
      cell.textContent='ðŸ’¥';
      cell.classList.remove('bomb');
      bombs.splice(i,1);
      setTimeout(()=>{ cell.textContent=''; }, 500);
    }
  }
},1000);
</script>
</body>
</html>
