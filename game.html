<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Stranger Things Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  background: #000010;
  color: red;
  font-family: 'ITC Benguiat', serif;
}

header {
  text-align: center;
  padding: 15px;
  border-bottom: 2px solid red;
}

nav button {
  margin: 5px;
  padding: 8px 14px;
  background: #300;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
}

nav button:hover {
  background: red;
}

#stats {
  display: flex;
  justify-content: space-around;
  padding: 10px;
  border-bottom: 1px solid red;
}

#howTo {
  padding: 15px;
  text-align: center;
}

#gameArea {
  position: relative;
  width: 90%;
  max-width: 600px;
  height: 400px;
  margin: 20px auto;
  background: radial-gradient(circle, #120015, #000);
  border: 3px solid darkred;
  overflow: hidden;
}

.item {
  position: absolute;
  font-size: 24px;
  cursor: pointer;
  animation: float 2s infinite alternate;
}

@keyframes float {
  from { transform: translateY(0); }
  to { transform: translateY(-8px); }
}

#controls {
  text-align: center;
  margin: 20px;
}

#timer {
  font-size: 1.4rem;
  margin-top: 10px;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<header>
  <h1>Stranger Things: The Upside Down Game</h1>
  <nav id="navBar">
    <button onclick="goHub()">Hub</button>
    <button onclick="goUpside()">Upside Down</button>
    <button onclick="goShop()">Stranger Shop</button>
    <button onclick="goSpin()">Daily Spin</button>
    <button onclick="goBoard()">Leaderboard</button>
  </nav>
</header>

<section id="stats">
  <div>ü™ô Coins: <span id="coins">0</span></div>
  <div>‚≠ê XP: <span id="xp">0</span></div>
  <div>üèÜ Points: <span id="points">0</span></div>
</section>

<section id="howTo">
  <p>Collect ü™ô coins, ‚¨ÜÔ∏è XP boosts and üïì time bonuses.</p>
  <p>Avoid üí£ bombs ‚Äî they explode!</p>
</section>

<div id="gameArea"></div>

<div id="controls">
  <button id="startBtn" onclick="startGame()">START GAME</button>
  <div id="timer"></div>
  <div id="lockMsg"></div>
</div>

<script>
const gameArea = document.getElementById("gameArea");
const startBtn = document.getElementById("startBtn");
const timerEl = document.getElementById("timer");
const lockMsg = document.getElementById("lockMsg");
const navBar = document.getElementById("navBar");

let coins = 0, xp = 0, points = 0;
let timeLeft = 180;
let gameInterval, spawnInterval;

// -------- NAV --------
function goHub(){ location.href="hub.html"; }
function goUpside(){ location.href="upsidedown.html"; }
function goShop(){ location.href="strangershop.html"; }
function goSpin(){ location.href="dailyspin.html"; }
function goBoard(){ location.href="leaderboard.html"; }

// -------- DAILY LOCK --------
const today = new Date().toISOString().split("T")[0];
if (localStorage.getItem("playedDate") === today) {
  startBtn.classList.add("hidden");
  lockMsg.innerHTML = "Uh-oh! You've already played today. Come back tomorrow.";
}

// -------- GAME START --------
function startGame() {
  localStorage.setItem("playedDate", today);
  startBtn.classList.add("hidden");
  navBar.classList.add("hidden");

  gameInterval = setInterval(updateTimer, 1000);
  spawnInterval = setInterval(spawnItem, 800);
}

// -------- TIMER --------
function updateTimer() {
  timeLeft--;
  timerEl.textContent = "‚è±Ô∏è Time Left: " + timeLeft + "s";

  if (timeLeft <= 0) endGame();
}

// -------- SPAWN ITEMS --------
function spawnItem() {
  const items = ["ü™ô","‚¨ÜÔ∏è","üïì","üí£"];
  const item = document.createElement("div");
  item.className = "item";
  item.textContent = items[Math.floor(Math.random()*items.length)];

  item.style.left = Math.random() * (gameArea.clientWidth - 30) + "px";
  item.style.top = Math.random() * (gameArea.clientHeight - 30) + "px";

  item.onclick = () => collectItem(item.textContent, item);
  gameArea.appendChild(item);

  setTimeout(() => item.remove(), 3000);
}

// -------- COLLECT --------
function collectItem(type, el) {
  if (type === "ü™ô") coins += 10;
  if (type === "‚¨ÜÔ∏è") xp += 5;
  if (type === "üïì") timeLeft += 5;
  if (type === "üí£") {
    el.textContent = "üí•";
    timeLeft -= 10;
  }

  document.getElementById("coins").textContent = coins;
  document.getElementById("xp").textContent = xp;
  document.getElementById("points").textContent = points;
  el.remove();
}

// -------- END GAME --------
function endGame() {
  clearInterval(gameInterval);
  clearInterval(spawnInterval);
  timerEl.textContent = "GAME OVER";
}
</script>

</body>
</html>
